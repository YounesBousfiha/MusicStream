<div class="h-full flex items-center justify-between px-6 bg-gray-900 border-t border-gray-800 text-white"
     [class.opacity-50]="!currentTrack()"
     [class.pointer-events-none]="!currentTrack()">

  <div class="w-1/3 flex items-center gap-4">
    <div class="w-14 h-14 bg-gray-800 rounded-md flex items-center justify-center overflow-hidden border border-gray-700">
      @if (currentTrack()) {
        <span class="text-2xl">ğŸµ</span>
      }
    </div>

    <div class="flex flex-col min-w-0">
      <span class="font-medium text-white truncate text-sm">
        {{ currentTrack()?.title || 'Aucune lecture' }}
      </span>
      <span class="text-xs text-gray-400 truncate">
        {{ currentTrack()?.artist || '--' }}
      </span>
    </div>
  </div>

  <div class="w-1/3 flex flex-col items-center gap-1 max-w-xl">

    <div class="flex items-center gap-6">
      <button (click)="previous()" class="text-gray-400 hover:text-white transition-colors" title="PrÃ©cÃ©dent">
        â®
      </button>

      <button (click)="togglePlay()"
              class="w-10 h-10 rounded-full bg-white text-black flex items-center justify-center hover:scale-105 transition-transform shadow-lg shadow-white/10">
        @if (isPlaying()) {
          <span>â¸</span>
        } @else {
          <span class="ml-1">â–¶</span>
        }
      </button>

      <button (click)="next()" class="text-gray-400 hover:text-white transition-colors" title="Suivant">
        â­
      </button>
    </div>

    <div class="w-full flex items-center gap-3 text-xs text-gray-400 font-mono mt-1">
      <span>{{ currentTime() | duration }}</span>

      <input
        type="range"
        [min]="0"
        [max]="duration() || 100"
        [value]="currentTime()"
        (input)="onSeek($event)"
        class="flex-1 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-indigo-500 hover:accent-indigo-400"
      >

      <span>{{ duration() | duration }}</span>
    </div>
  </div>

  <div class="w-1/3 flex justify-end items-center gap-3">
    <span class="text-xs">ğŸ”Š</span>
    <input
      type="range"
      min="0"
      max="1"
      step="0.01"
      [value]="volume"
      (input)="onVolumeChange($event)"
      class="w-24 h-1 bg-gray-700 rounded-lg appearance-none cursor-pointer accent-gray-400 hover:accent-white"
    >
  </div>

</div>
